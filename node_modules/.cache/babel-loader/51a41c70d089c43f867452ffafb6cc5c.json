{"ast":null,"code":"var _jsxFileName = \"/home/dev/Bureau/simplonien/test-simplon/src/components/login.js\";\nimport React from 'react';\nimport { MDBRow, MDBCol, MDBInput, MDBBtn, MDBCard, MDBCardBody, MDBModalFooter, MDBIcon } from 'mdbreact';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../actions/authentificate';\nimport { Redirect } from 'react-router-dom';\nimport classnames from 'classnames';\nimport './user.css';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.renderRedirect = () => {\n      if (localStorage.getItem('login') == 'true') {\n        return React.createElement(Redirect, {\n          to: \"/admin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        });\n      } else {\n        console.log('test');\n      }\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      errors: {}\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const user = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    this.props.loginUser(user);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(this.props.auth.isAuthenticated);\n\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push('/admin');\n    }\n  }\n\n  render() {\n    const smallStyle = {\n      fontSize: '0.8rem'\n    };\n    const errors = this.state.errors;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.renderRedirect(), React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"0,5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(MDBCol, {\n      md: \"6\",\n      className: \"mx-auto mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      id: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(MDBCardBody, {\n      className: \"mx-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"dark-grey-text text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Connexion\")), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"mail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Adress email\",\n      group: true,\n      type: \"email\",\n      validate: true,\n      error: \"wrong\",\n      success: \"right\",\n      className: classnames('form-control form-control-lg', {\n        'is-invalid': errors.email\n      }),\n      name: \"email\",\n      onChange: this.handleInputChange,\n      value: this.state.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), errors.email && React.createElement(\"div\", {\n      className: \"invalid-feedback\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, errors.email)), React.createElement(\"div\", {\n      id: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Mot de passe\",\n      group: true,\n      type: \"password\",\n      validate: true,\n      containerClass: \"mb-0\",\n      className: classnames('form-control form-control-lg', {\n        'is-invalid': errors.password\n      }),\n      name: \"password\",\n      onChange: this.handleInputChange,\n      value: this.state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), errors.password && React.createElement(\"div\", {\n      className: \"invalid-feedback\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, errors.password)), React.createElement(\"div\", {\n      className: \"text-center pt-3 mb-3\",\n      id: \"mail2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      type: \"submit\",\n      gradient: \"purple\",\n      id: \"bt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"connexion\"))), React.createElement(\"div\", {\n      className: \"row my-3 d-flex justify-content-center\",\n      id: \"mail3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"dark-grey-text text-right d-flex justify-content-center mb-3 pt-2\",\n      style: smallStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \" or Sign up with:\"), React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      type: \"button\",\n      color: \"white\",\n      rounded: true,\n      className: \"mr-md-3 z-depth-1a\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      fab: true,\n      icon: \"facebook-f\",\n      className: \"blue-text text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }))), React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      type: \"button\",\n      color: \"white\",\n      rounded: true,\n      className: \"mr-md-3 z-depth-1a\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      fab: true,\n      icon: \"twitter\",\n      className: \"blue-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }))), React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      type: \"button\",\n      color: \"white\",\n      rounded: true,\n      className: \"z-depth-1a\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(MDBIcon, {\n      fab: true,\n      icon: \"google-plus-g\",\n      className: \"blue-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }))))))), React.createElement(MDBModalFooter, {\n      className: \"mx-5 pt-3 mb-1\",\n      id: \"mail4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"grey-text d-flex justify-content-end\",\n      style: smallStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Already a member? \", React.createElement(\"a\", {\n      href: \"#!\",\n      className: \"blue-text ml-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \" Sign In\")))))));\n  }\n\n}\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  loginUser\n})(Login);","map":{"version":3,"sources":["/home/dev/Bureau/simplonien/test-simplon/src/components/login.js"],"names":["React","MDBRow","MDBCol","MDBInput","MDBBtn","MDBCard","MDBCardBody","MDBModalFooter","MDBIcon","PropTypes","connect","loginUser","Redirect","classnames","Login","Component","constructor","renderRedirect","localStorage","getItem","console","log","state","email","password","errors","handleInputChange","bind","handleSubmit","e","setState","target","name","value","preventDefault","user","props","componentWillReceiveProps","nextProps","auth","isAuthenticated","componentDidMount","history","push","render","smallStyle","fontSize","propTypes","func","isRequired","object","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,QAAzB,EAAmCC,MAAnC,EAA2CC,OAA3C,EAAoDC,WAApD,EAAiEC,cAAjE,EAAiFC,OAAjF,QAAgG,UAAhG;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAO,YAAP;;AAEA,MAAMC,KAAN,SAAoBd,KAAK,CAACe,SAA1B,CAAoC;AAChCC,EAAAA,WAAW,GAAG;AACV;;AADU,SAkBdC,cAlBc,GAkBG,MAAM;AACrB,UAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,MAArC,EAA6C;AAC3C,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAFD,MAEO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACD;AACF,KAxBa;;AAEV,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,MAAM,EAAE;AAHC,KAAb;AAMA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAEDD,EAAAA,iBAAiB,CAACG,CAAD,EAAI;AACjB,SAAKC,QAAL,CAAc;AACV,OAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADhB,KAAd;AAGH;;AAUDL,EAAAA,YAAY,CAACC,CAAD,EAAI;AACZA,IAAAA,CAAC,CAACK,cAAF;AACA,UAAMC,IAAI,GAAG;AACTZ,MAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KADT;AAETC,MAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAFZ,KAAb;AAIA,SAAKY,KAAL,CAAWzB,SAAX,CAAqBwB,IAArB;AAGH;;AAEDE,EAAAA,yBAAyB,CAACC,SAAD,EAAY;AACjClB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKe,KAAL,CAAWG,IAAX,CAAgBC,eAA5B;;AACA,QAAGF,SAAS,CAACb,MAAb,EAAqB;AACjB,WAAKK,QAAL,CAAc;AACVL,QAAAA,MAAM,EAAEa,SAAS,CAACb;AADR,OAAd;AAGH;AAGJ;;AACDgB,EAAAA,iBAAiB,GAAG;AAChBrB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKe,KAAjB;;AAEA,QAAG,KAAKA,KAAL,CAAWG,IAAX,CAAgBC,eAAnB,EACC;AACG,WAAKJ,KAAL,CAAWM,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACH;AACJ;;AAIHC,EAAAA,MAAM,GAAG;AACP,UAAMC,UAAU,GAAG;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAnB;AADO,UAEArB,MAFA,GAEU,KAAKH,KAFf,CAEAG,MAFA;AAGP,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKR,cAAL,EADL,EAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAEE,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,GAAX;AAAe,MAAA,SAAS,EAAC,cAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAS,MAAA,EAAE,EAAC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAa,MAAA,SAAS,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAI,MAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA3C,CADA,EAEE;AAAM,MAAA,QAAQ,EAAG,KAAKW,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,cAAhB;AAA+B,MAAA,KAAK,MAApC;AAAqC,MAAA,IAAI,EAAC,OAA1C;AAAkD,MAAA,QAAQ,MAA1D;AAA2D,MAAA,KAAK,EAAC,OAAjE;AAAyE,MAAA,OAAO,EAAC,OAAjF;AACA,MAAA,SAAS,EAAEf,UAAU,CAAC,8BAAD,EAAiC;AAAC,sBAAcY,MAAM,CAACF;AAAtB,OAAjC,CADrB;AACsF,MAAA,IAAI,EAAC,OAD3F;AAEA,MAAA,QAAQ,EAAG,KAAKG,iBAFhB;AAGA,MAAA,KAAK,EAAG,KAAKJ,KAAL,CAAWC,KAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAKCE,MAAM,CAACF,KAAP,IAAiB;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCE,MAAM,CAACF,KAA1C,CALlB,CADF,EAQE;AAAK,MAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,cAAhB;AAA+B,MAAA,KAAK,MAApC;AAAqC,MAAA,IAAI,EAAC,UAA1C;AAAqD,MAAA,QAAQ,MAA7D;AAA8D,MAAA,cAAc,EAAC,MAA7E;AACA,MAAA,SAAS,EAAEV,UAAU,CAAC,8BAAD,EAAiC;AAAC,sBAAcY,MAAM,CAACD;AAAtB,OAAjC,CADrB;AACyF,MAAA,IAAI,EAAC,UAD9F;AAEA,MAAA,QAAQ,EAAG,KAAKE,iBAFhB;AAGA,MAAA,KAAK,EAAG,KAAKJ,KAAL,CAAWE,QAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAKGC,MAAM,CAACD,QAAP,IAAoB;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCC,MAAM,CAACD,QAA1C,CALvB,CARF,EAeE;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAuC,MAAA,EAAE,EAAC,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,QAAQ,EAAC,QAA/B;AAAwC,MAAA,EAAE,EAAC,IAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAjD,CADF,CAfF,EAmBE;AAAK,MAAA,SAAS,EAAC,wCAAf;AAAwD,MAAA,EAAE,EAAC,OAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,mEAAb;AAAiF,MAAA,KAAK,EAAEqB,UAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,OAA5B;AAAoC,MAAA,OAAO,MAA3C;AAA4C,MAAA,SAAS,EAAC,oBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2E,oBAAC,OAAD;AAAS,MAAA,GAAG,MAAZ;AAAa,MAAA,IAAI,EAAC,YAAlB;AAA+B,MAAA,SAAS,EAAC,uBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3E,CADF,CADF,EAIE,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,OAA5B;AAAoC,MAAA,OAAO,MAA3C;AAA4C,MAAA,SAAS,EAAC,oBAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2E,oBAAC,OAAD;AAAS,MAAA,GAAG,MAAZ;AAAa,MAAA,IAAI,EAAC,SAAlB;AAA4B,MAAA,SAAS,EAAC,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3E,CADF,CAJF,EAOE,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,OAA5B;AAAoC,MAAA,OAAO,MAA3C;AAA4C,MAAA,SAAS,EAAC,YAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmE,oBAAC,OAAD;AAAS,MAAA,GAAG,MAAZ;AAAa,MAAA,IAAI,EAAC,eAAlB;AAAkC,MAAA,SAAS,EAAC,WAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnE,CADF,CAPF,CAFF,CAnBF,CAFF,CADF,EAuCE,oBAAC,cAAD;AAAgB,MAAA,SAAS,EAAC,gBAA1B;AAA2C,MAAA,EAAE,EAAC,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,sCAAb;AAAoD,MAAA,KAAK,EAAEA,UAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAyF;AAAG,MAAA,IAAI,EAAC,IAAR;AAAa,MAAA,SAAS,EAAC,gBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAzF,CADF,CAvCF,CADF,CAFF,CAFJ,CADF;AAqDD;;AAnHiC;;AAsHpC/B,KAAK,CAACiC,SAAN,GAAkB;AAChBpC,EAAAA,SAAS,EAAEF,SAAS,CAACuC,IAAV,CAAeC,UADV;AAEhBV,EAAAA,IAAI,EAAE9B,SAAS,CAACyC,MAAV,CAAiBD,UAFP;AAGhBxB,EAAAA,MAAM,EAAEhB,SAAS,CAACyC,MAAV,CAAiBD;AAHT,CAAlB;;AAMA,MAAME,eAAe,GAAI7B,KAAD,KAAY;AAClCiB,EAAAA,IAAI,EAAEjB,KAAK,CAACiB,IADsB;AAElCd,EAAAA,MAAM,EAAEH,KAAK,CAACG;AAFoB,CAAZ,CAAxB;;AAKA,eAAgBf,OAAO,CAACyC,eAAD,EAAkB;AAAExC,EAAAA;AAAF,CAAlB,CAAP,CAAwCG,KAAxC,CAAhB","sourcesContent":["import React from 'react';\nimport { MDBRow, MDBCol, MDBInput, MDBBtn, MDBCard, MDBCardBody, MDBModalFooter, MDBIcon } from 'mdbreact';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../actions/authentificate';\nimport { Redirect } from 'react-router-dom';\nimport classnames from 'classnames';\nimport './user.css'\n\nclass Login extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            email: '',\n            password: '',\n            errors: {},\n          \n        }\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleInputChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    renderRedirect = () => { \n      if (localStorage.getItem('login') == 'true') { \n        return <Redirect to='/admin' /> \n      } else { \n        console.log('test'); \n      } \n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        const user = {\n            email: this.state.email,\n            password: this.state.password,\n        }\n        this.props.loginUser(user);\n      \n         \n    }\n\n    componentWillReceiveProps(nextProps) {\n        console.log(this.props.auth.isAuthenticated);\n        if(nextProps.errors) {\n            this.setState({\n                errors: nextProps.errors\n            });\n        }\n       \n      \n    }\n    componentDidMount() {\n        console.log(this.props);\n        \n        if(this.props.auth.isAuthenticated)\n         {\n            this.props.history.push('/admin');\n        }\n    }\n\n\n\n  render() {\n    const smallStyle = { fontSize: '0.8rem' }\n    const {errors} = this.state;\n    return (\n      <div className=\"container\">\n          {this.renderRedirect()}\n          <MDBRow>\n          <MDBCol md=\"0,5\"></MDBCol>\n            <MDBCol md=\"6\" className=\"mx-auto mt-2\">\n              <MDBCard id=\"card\">\n                <MDBCardBody className=\"mx-2\">\n                <h3 className=\"dark-grey-text text-center\"><strong>Connexion</strong></h3>\n                  <form onSubmit={ this.handleSubmit }>\n                    <div id=\"mail\">\n                      <MDBInput label=\"Adress email\" group type=\"email\" validate error=\"wrong\" success=\"right\" \n                      className={classnames('form-control form-control-lg', {'is-invalid': errors.email })} name=\"email\"\n                      onChange={ this.handleInputChange }\n                      value={ this.state.email }/>\n                    {errors.email && (<div className=\"invalid-feedback\">{errors.email}</div>)}\n                    </div>\n                    <div id=\"password\">\n                      <MDBInput label=\"Mot de passe\" group type=\"password\" validate containerClass=\"mb-0\" \n                      className={classnames('form-control form-control-lg', {'is-invalid': errors.password })} name=\"password\"\n                      onChange={ this.handleInputChange }\n                      value={ this.state.password }/>\n                      {errors.password && (<div className=\"invalid-feedback\">{errors.password}</div>)}\n                    </div>\n                    <div className=\"text-center pt-3 mb-3\" id=\"mail2\">\n                      <MDBBtn type=\"submit\" gradient=\"purple\" id=\"bt\" ><a >connexion</a></MDBBtn>\n                    </div>\n\n                    <div className=\"row my-3 d-flex justify-content-center\" id=\"mail3\">\n                      <p className=\"dark-grey-text text-right d-flex justify-content-center mb-3 pt-2\" style={smallStyle}> or Sign up with:</p>\n                      <MDBRow>\n                        <MDBCol md=\"4\">\n                          <MDBBtn type=\"button\" color=\"white\" rounded className=\"mr-md-3 z-depth-1a\"><MDBIcon fab icon=\"facebook-f\" className=\"blue-text text-center\" /></MDBBtn>\n                        </MDBCol>\n                        <MDBCol md=\"4\">\n                          <MDBBtn type=\"button\" color=\"white\" rounded className=\"mr-md-3 z-depth-1a\"><MDBIcon fab icon=\"twitter\" className=\"blue-text\" /></MDBBtn>\n                        </MDBCol>\n                        <MDBCol md=\"4\">\n                          <MDBBtn type=\"button\" color=\"white\" rounded className=\"z-depth-1a\"><MDBIcon fab icon=\"google-plus-g\" className=\"blue-text\" /></MDBBtn>\n                        </MDBCol>\n                      </MDBRow>\n                    </div>\n                  </form>\n                 \n                </MDBCardBody>\n                <MDBModalFooter className=\"mx-5 pt-3 mb-1\" id=\"mail4\">\n                  <p className=\"grey-text d-flex justify-content-end\" style={smallStyle}>Already a member? <a href=\"#!\" className=\"blue-text ml-1\"> Sign In</a></p>\n                </MDBModalFooter>\n              </MDBCard>\n            </MDBCol>\n          </MDBRow>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n  errors: state.errors\n})\n\nexport  default connect(mapStateToProps, { loginUser })(Login)"]},"metadata":{},"sourceType":"module"}